<section class="text-center bg--secondary space--xs">
  <div class="container">
    <div class="row">
      <form #searchForm="ngForm" (ngSubmit)="onSubmit(searchForm.value)">
        <div class="col-sm-4"> <input ngModel name="keyword" type="text" placeholder="job title, keywords, or company"> </div>
        <div class="col-sm-4"> <input ngModel name="location" type="text" placeholder="city, state or province"> </div>
        <div class="col-sm-4"> <button type="submit" class="btn btn--primary type--uppercase">Get Hired</button> </div>
      </form>
    </div>
  </div>
</section>
<!-- <button class="btn btn--primary" type="button" name="button" (click)="onClick()">Get jobs</button> -->

<div>
  <!-- {{dataSource[0]?.title}} -->
</div>
<!-- <div >
  <div></div>

</div> -->

<section *ngFor="let job of jobs | paginate:{itemsPerPage:itemsPerPage, currentPage:p}; let i = index; let e=even; let o=odd; " class="switchable feature-large" [class.bg--secondary]="o">
  <div class="container">
    <div class="row">
      <div class="col-sm-6 col-xs-12">
        <div class="video-cover border--round box-shadow-wide">
          <div *ngIf="!playVideoArr[i]; then showBackground else showVideo"></div>
          <ng-template #showBackground>
            <div class="background-image-holder" style="background: url('../assets/img/imi-Rhonda-Artificial-Intelligence-Video-preview-min.jpg'); opacity: 1; "> </div>
            <div class="video-play-icon" (click)="onPlay(i)"></div>
            <iframe src="" frameborder="0" allowfullscreen="allowfullscreen"></iframe>

          </ng-template>
          <ng-template #showVideo>
            <!-- <div>test</div> -->
            <!-- <iframe [src]="safeUrl()" frameborder="0" allowfullscreen="allowfullscreen"></iframe> -->
            <iframe [src]="job.title | choseUrl | safe:'resourceUrl'" frameborder="0" allowfullscreen="allowfullscreen"></iframe>
            <!-- original -->
            <!-- <iframe [src]="url | safe:'resourceUrl'" frameborder="0" allowfullscreen="allowfullscreen"></iframe> -->


          </ng-template>

          <!-- <div class="background-image-holder"style="background: url('../assets/img/blog-3.jpg'); opacity: 1;"> <img alt="image" src="../assets/img/blog-3.jpg"> </div>
          <div class="video-play-icon"></div> <iframe data-src="https://www.youtube.com/embed/6p45ooZOOPo?autoplay=1" allowfullscreen="allowfullscreen"></iframe> -->
        </div>
      </div>
      <div class="col-sm-6 col-md-5">
        <div class="jobListItem">
          <!-- <div>Index: {{i}}</div> -->

          <!-- <div>Row {{i}} : Name: {{job.title}}, is even row: {{e}}, is odd row: {{o}}</div> -->
          <h2>{{job.title}}</h2>
          <p><b>Employer: </b>{{job.employer.first_name}}</p>
          <p><b>Job Type: </b>{{job.job_types[0]?.title}} <span class="pull-right"><b>Salary: </b> {{job.pay_rate_type | capitalize |removeMinus }} </span></p>
          <p><b>Location: </b>{{job.job_location}}</p>
          <p><b>Start Date: </b>{{job.start_date}} </p>
          <p style="color:#a5a5a5f0">Job poster {{job.published | diffDays}} days ago</p>


          <!-- <p><b>Salary: {{job.pay_rate_type | capitalize |removeMinus }}  <span class="pull-right">Job Type: {{job.job_types[0]?.title}}</span></b></p> -->

          <br>
          <p><b><a [routerLink]="['/description', job.id]"  style="text-decoration:none">Apply Easily &gt;&gt;</a></b></p>
          <!-- {{job.description | extractSummary }} -->
        </div>
      </div>
    </div>
  </div>
</section>
<!-- <pagination-controls class="pull-right" (pageChange)="p = $event" (click)="resetVideos()"></pagination-controls> -->

<!-- <hr><hr> -->

<!-- above changed -->
<!-- <section class="switchable feature-large">
  <div class="container">
    <div class="row">
      <div class="col-sm-6 col-xs-12">
        <div class="video-cover border--round box-shadow-wide">
          <div class="background-image-holder"> <img alt="image" src="../assets/img/blog-3.jpg"> </div>
          <div class="video-play-icon"></div> <iframe data-src="https://www.youtube.com/embed/6p45ooZOOPo?autoplay=1" allowfullscreen="allowfullscreen"></iframe> </div>
      </div>
      <div class="col-sm-6 col-md-5">
        <div class="switchable__text">
          <h2>Mechanical Installer</h2>
          <p><b>Salary: $61,00 - Job Type: Full-time<br></b>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam eget felis blandit mi placerat tempus et at nibh...<br><br><b><a [routerLink]="['/description']" (click)="linkOnCliked()" style="text-decoration:none">Apply Easily &gt;&gt;</a></b></p>
        </div>
      </div>
    </div>
  </div>
</section>


<section class="switchable feature-large bg--secondary space--xs">
  <div class="container">
    <div class="row">
      <div class="col-sm-6 col-xs-12">
        <div class="video-cover border--round box-shadow-wide">
          <div class="background-image-holder"> <img alt="image" src="../assets/img/blog-3.jpg"> </div>
          <div class="video-play-icon"></div> <iframe data-src="https://www.youtube.com/embed/6p45ooZOOPo?autoplay=1" allowfullscreen="allowfullscreen"></iframe> </div>
      </div>
      <div class="col-sm-6 col-md-5">
        <div class="switchable__text">
          <h2>Mechanical Installer</h2>
          <p><b>Salary: $61,00 - Job Type: Full-time<br></b>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam eget felis blandit mi placerat tempus et at nibh...<br><br><b><a href="jobsdescription.html" style="text-decoration:none">Apply Easily &gt;&gt;</a></b></p>

        </div>
      </div>
    </div>
  </div>
</section>
<section class="switchable feature-large space--xs">
  <div class="container">
    <div class="row">
      <div class="col-sm-6 col-xs-12">
        <div class="video-cover border--round box-shadow-wide">
          <div class="background-image-holder"> <img alt="image" src="../assets/img/blog-3.jpg"> </div>
          <div class="video-play-icon"></div> <iframe data-src="https://www.youtube.com/embed/6p45ooZOOPo?autoplay=1" allowfullscreen="allowfullscreen"></iframe> </div>
      </div>
      <div class="col-sm-6 col-md-5">
        <div class="switchable__text">
          <h2>Mechanical Installer</h2>
          <p><b>Salary: $61,00 - Job Type: Full-time<br></b>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam eget felis blandit mi placerat tempus et at nibh...<br><br><b><a href="jobsdescription.html" style="text-decoration:none">Apply Easily &gt;&gt;</a></b></p>

        </div>
      </div>
    </div>
  </div>
</section>
<section class="switchable feature-large bg--secondary space--xs">
  <div class="container">
    <div class="row">
      <div class="col-sm-6 col-xs-12">
        <div class="video-cover border--round box-shadow-wide">
          <div class="background-image-holder"> <img alt="image" src="../assets/img/blog-3.jpg"> </div>
          <div class="video-play-icon"></div> <iframe data-src="https://www.youtube.com/embed/6p45ooZOOPo?autoplay=1" allowfullscreen="allowfullscreen"></iframe> </div>
      </div>
      <div class="col-sm-6 col-md-5">
        <div class="switchable__text">
          <h2>Mechanical Installer</h2>
          <p><b>Salary: $61,00 - Job Type: Full-time<br></b>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam eget felis blandit mi placerat tempus et at nibh...<br><br><b><a href="jobsdescription.html" style="text-decoration:none">Apply Easily &gt;&gt;</a></b></p>
        </div>
      </div>
    </div>
  </div>
</section>
<section class="switchable feature-large">
  <div class="container">
    <div class="row">
      <div class="col-sm-6 col-xs-12">
        <div class="video-cover border--round box-shadow-wide">
          <div class="background-image-holder"> <img alt="image" src="../assets/img/blog-3.jpg"> </div>
          <div class="video-play-icon"></div> <iframe data-src="https://www.youtube.com/embed/6p45ooZOOPo?autoplay=1" allowfullscreen="allowfullscreen"></iframe> </div>
      </div>
      <div class="col-sm-6 col-md-5">
        <div class="switchable__text">
          <h2>Mechanical Installer</h2>
          <p><b>Salary: $61,00 - Job Type: Full-time<br></b>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam eget felis blandit mi placerat tempus et at nibh...<br><br><b><a href="jobsdescription.html" style="text-decoration:none">Apply Easily &gt;&gt;</a></b></p>

        </div>
      </div>
    </div>
  </div>
</section> -->

<section *ngIf="jobs" class="cta cta-4 space--xxs border--bottom text-right">
  <div class="container">
    <div class="row">
      <!-- <div class="col-sm-12"> <span>Results Page: 1 2 3 4 5 <b>Next Â»</b></span> </div> -->
      <pagination-controls class="pull-right" (pageChange)="p = $event" (click)="resetVideos()"></pagination-controls>



    </div>
  </div>
</section>
